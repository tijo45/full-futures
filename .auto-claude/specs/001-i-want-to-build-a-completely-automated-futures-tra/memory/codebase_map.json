{
  "discovered_files": {
    "requirements.txt": {
      "description": "Python dependencies file with 9 packages: ib_async (IB API), river (online ML), dash/plotly/dash-bootstrap-components (dashboard), pandas/numpy (data), pandas_market_calendars (exchange calendars), aiohttp (async HTTP)",
      "category": "dependencies",
      "discovered_at": "2026-01-12T17:04:35.837781+00:00"
    },
    "config.py": {
      "description": "Dynamic configuration module using dataclass with environment variable support. Uses get_config() singleton pattern. Default values: IB_HOST=127.0.0.1, IB_PORT=7497, IB_CLIENT_ID=1, DASHBOARD_PORT=8050. All settings can be overridden via environment variables.",
      "category": "configuration",
      "discovered_at": "2026-01-12T17:06:18.236449+00:00"
    },
    "src/core/ib_client.py": {
      "description": "IBClient class with async connection management, exponential backoff reconnection, and market data subscription. Supports both ib_async (Python 3.10+) and ib_insync (Python 3.9) via compatibility imports.",
      "category": "core",
      "discovered_at": "2026-01-12T17:10:54.062947+00:00"
    },
    "src/core/contract_discovery.py": {
      "description": "ContractDiscovery class for auto-discovering futures contracts from IB. Uses Future() NOT ContFuture() for real-time data. Default symbols for CME, CBOT, COMEX, NYMEX exchanges. Respects IB API limit of 100 data lines. Features DiscoveredContract dataclass with metadata including volume_rank and is_front_month flags.",
      "category": "core",
      "discovered_at": "2026-01-12T17:13:45.993849+00:00"
    },
    "src/core/session_manager.py": {
      "description": "SessionManager class with pandas_market_calendars for exchange session handling. Uses calendar mapping for PMC 5.x naming: CME->CME_Equity, CBOT->CBOT_Equity, COMEX->CMEGlobex_Metals, NYMEX->CMEGlobex_Energy. Provides is_market_open(), minutes_to_close(), should_allow_entry(), should_exit_positions(), and get_session_info() methods.",
      "category": "architecture",
      "discovered_at": "2026-01-12T17:18:45.046286+00:00"
    },
    "src/data/market_data.py": {
      "description": "MarketDataHandler class for L1/L2 subscriptions. Uses IBClient for subscriptions, tracks freshness via timestamps, provides TickData (bid/ask/last/volume) and DepthData (domBids/domAsks order book) dataclasses. Both have to_dict() methods for River ML compatibility. Includes staleness monitoring with configurable threshold from DATA_STALENESS_THRESHOLD_SECONDS config.",
      "category": "data_layer",
      "discovered_at": "2026-01-12T17:21:24.338739+00:00"
    },
    "src/data/feature_engine.py": {
      "description": "FeatureEngine class for real-time feature extraction from market data. Uses StreamingStats with Welford's algorithm for incremental mean/variance calculation. Extracts L1 features (spread, quote imbalance, price position), L2 features (order book imbalance, liquidity score, VWAP), and streaming features (momentum, volatility, z-scores). CRITICAL: All output is Python dict format for River ML compatibility - NOT numpy arrays.",
      "category": "feature_extraction",
      "discovered_at": "2026-01-12T17:24:39.149628+00:00"
    },
    "src/learning/online_learner.py": {
      "description": "OnlineLearner class for online ML using River. Key patterns: (1) Use `from river import optim` separately - optimizers are NOT under linear_model.optim; (2) Use learn_one() NOT fit_one(); (3) Features must be Python dict NOT numpy arrays; (4) predict_proba_one() returns dict with keys as class labels (True/False or 0/1); (5) ADWIN drift detector tracks prediction errors; (6) Metrics from river.metrics track running performance.",
      "category": "online_learning",
      "discovered_at": "2026-01-12T17:30:56.624647+00:00"
    },
    "src/learning/drift_detector.py": {
      "description": "DriftDetector class for market regime change detection using River's ADWIN algorithm. Supports multi-stream monitoring (prediction_error, returns, volatility, spread, volume). Provides DriftSeverity (NONE/MILD/MODERATE/SEVERE) and RegimeState (STABLE/TRANSITIONING/VOLATILE/RECOVERING) classifications. MultiContractDriftDetector manages per-contract drift detectors. Key methods: update_prediction_error(was_correct), update_stream(name, value), update_returns(return), update_volatility(vol). Uses callbacks for drift events.",
      "category": "drift_detection",
      "discovered_at": "2026-01-12T17:34:39.334390+00:00"
    },
    "src/trading/confidence.py": {
      "description": "ConfidenceTracker for confidence-gated trading. Key classes: ConfidenceLevel (confidence value with factors), ThresholdState (adaptive threshold with learning), ConfidenceHistory (rolling stats), ContractConfidence (per-contract tracking). CRITICAL: No hard-coded thresholds - all thresholds adapt based on outcomes. Key methods: calculate_confidence(), gate_entry(), gate_exit(), get_position_scaling(), update_drawdown(), update_regime(), record_outcome(). Threshold increases after losses, decreases after successes. Supports ThresholdMode (NORMAL/CAUTIOUS/AGGRESSIVE) for regime-based adjustment.",
      "category": "trading",
      "discovered_at": "2026-01-12T17:42:06.052337+00:00"
    },
    "src/trading/executor.py": {
      "description": "Executor class for confidence-gated order execution through IB. Key classes: ExecutionRequest (order details with prediction/confidence), ExecutionResult (status and fill details), ExecutionStats (running statistics), Executor (main executor). Key methods: execute() for order execution with all gates, execute_prediction() for prediction-based orders, record_outcome() for learning feedback. CRITICAL: Only executes when confidence threshold is met - low-confidence signals are REJECTED, not scaled down. Uses ConfidenceTracker.gate_entry() for confidence gating, supports session awareness via SessionManager, tracks positions/exposure with configurable limits. Integrates with ib_async/ib_insync for order placement (placeOrder, cancelOrder) and trade event handling (filledEvent, cancelledEvent).",
      "category": "trading",
      "discovered_at": "2026-01-12T17:46:08.463474+00:00"
    }
  },
  "last_updated": "2026-01-12T17:46:08.463483+00:00"
}